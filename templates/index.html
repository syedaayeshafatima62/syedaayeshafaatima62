<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Python Chatbot</title>
<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

<!-- Header -->
<header class="chat-header">
    <h1>ðŸ’¬ ChatGPT Style Python Bot</h1>
    <p>Type a message below and chat with your AI assistant!</p>
</header>

<!-- Chat Container -->
<div class="chat-container">
    <div class="chat-body" id="chat-body"></div>
    <div class="chat-input">
        <input type="text" id="user-input" placeholder="Type a message..." />
        <button onclick="sendMessage()">Send</button>
    </div>
</div>

<script>
async function sendMessage() {
    const input = document.getElementById("user-input");
    const message = input.value.trim();
    if(!message) return;

    const chatBody = document.getElementById("chat-body");

    // Show user message
    const userDiv = document.createElement("div");
    userDiv.className = "message user";
    userDiv.textContent = message;
    chatBody.appendChild(userDiv);
    chatBody.scrollTop = chatBody.scrollHeight;

    input.value = "";

    // Show typing animation
    const botDiv = document.createElement("div");
    botDiv.className = "message bot typing";
    botDiv.textContent = "Bot is typing...";
    chatBody.appendChild(botDiv);
    chatBody.scrollTop = chatBody.scrollHeight;

    // Send to backend
    const response = await fetch("/chat", {
        method: "POST",
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify({message})
    });
    const data = await response.json();

    // Replace typing with actual reply
    botDiv.classList.remove("typing");
    botDiv.textContent = data.reply;
    chatBody.scrollTop = chatBody.scrollHeight;
}
</script>
</body>
</html>
